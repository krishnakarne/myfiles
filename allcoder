toggleRow(element: any, index: number) {
  const name = element.name;

  const headers = new HttpHeaders({
    'X-API-Key': `${environment.ACCESS_TOKEN}`
  });

  const httpOptions = {
    headers: headers
  };

  // Fetch branch details URL from service and then make the HTTP request
  this.service.getBranchDetailsUrl(this.http, name).pipe(
    mergeMap((branchDetailsUrl: string) => this.http.get(branchDetailsUrl, httpOptions))
  ).subscribe((response: any) => {
    console.log('branch details url response:', response);
    this.branchDetails = new MatTableDataSource(response);
    this.cd.detectChanges();

    const paginator = this.paginatorbranch.toArray()[index];
    this.branchDetails.paginator = paginator;
    this.branchDetails.sort = this.innerSort;
  }, error => {
    console.error('Error fetching repository branch details:', error);
  });

  // Fetch team details URL from service and then make the HTTP request
  this.service.getTeamDetailsUrl(this.http, name).pipe(
    mergeMap((teamDetailsUrl: string) => this.http.get(teamDetailsUrl, httpOptions))
  ).subscribe((response: any) => {
    console.log('team details url response:', response);
    this.teamDetails = new MatTableDataSource(response);
    this.cd.detectChanges();

    const paginator = this.paginatorteams.toArray()[index];
    this.teamDetails.paginator = paginator;
    this.teamDetails.sort = this.innerSort;
  }, error => {
    console.error('Error fetching repository team details:', error);
  });
}
